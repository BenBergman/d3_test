<html lang="en">
 
<head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
 
    <link href="http://getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="stylesheets/main.css" rel="stylesheet">
 
    <link href="http://getbootstrap.com/examples/justified-nav/justified-nav.css" rel="stylesheet">
 
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js" charset="utf-8"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-animate.js" charset="utf-8"></script>
    <script src="js/taxes.js" charset="utf-8"></script>

    <link rel="stylesheet" href="angular_ui/ui-bootstrap-custom-1.3.2-csp.css">
    <script src="angular_ui/ui-bootstrap-custom-tpls-1.3.2.min.js"></script>

    <link rel="stylesheet" href="bower_components/seiyria-bootstrap-slider/dist/css/bootstrap-slider.min.css">
    <script src="bower_components/seiyria-bootstrap-slider/dist/bootstrap-slider.min.js"></script>
    <script src="bower_components/angular-bootstrap-slider/slider.js"></script>
</head>
 
<body ng-app="myApp">
    <script src="js/app.js"></script>
    <script src="js/controllers/MainController.js"></script>
    <script src="js/directives/taxChart.js"></script>

    <div class="container">
        <div class="main" ng-controller="MainController">
            <div class="row">
                <div class="col-md-12" tax-chart></div>
            </div>
            <div class="row">
                <p class="col-md-3">Total Income: {{ currentIncome|currency:$:0 }}</p>
                <p class="col-md-3" uib-popover="The amount of tax you owe on the next dollar that you earn. For example, if you earned $50,000 and are in the 33% tax bracket and you earn an additional $100, you will pay 33% tax on that $100. This rate does not necessarily apply to the previous $50,000." popover-trigger="mouseenter"><font color="green">Marginal Tax Rate<sup><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span></sup>: {{ currentMarg|percentage:0 }}</font></p>
                <p class="col-md-3"><font color="blue">Total Taxes Due: {{ currentTax|currency:$:0 }}</font></p>
                <p class="col-md-3" uib-popover="The average tax rate you pay for each dollar you earn." popover-trigger="mouseenter"><font color="orange">Effective Tax Rate<sup><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span></sup>: {{ currentEff|percentage:0 }}</font></p>
                <div class="btn-group" uib-dropdown is-open="status.isopen">
                    <button id="single-button" type="button" class="btn btn-primary" uib-dropdown-toggle ng-disabled="disabled">
                        Current Province: {{ currentProvince }} <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="single-button">
                        <li ng-repeat="province in provinces" role="menuitem">
                            <a href ng-click="changeProvince(province)">{{ province }}</a>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="row">
                <uib-accordion>
                    <uib-accordion-group heading="What happens if I earn more money?" is-open="accordions.earn" template-url="templates/group-template.html">
                        <p>
                        Cangratulations! Earning more money means more money in your pocket. When you earn more money, your position in the above graph will move over to the right. Sometimes this will mean you enter a new tax bracket (ie. cross a jump on the green line). Don't worry though; this new tax bracket only applies to the money you earn while you stay in this bracket! While it is generally true that you get to keep less of the money you earn while in the higher tax brackets, the amount you get too keep from the money earned in the lower brackets will not be affected.
                        </p>
                        <p>
                        As you can see from the above graph, the amount of tax you pay for each income level is a fairly smooth line (see the black line). The orange line then shows the average tax rate for each dollar you earned. Much of the time this effective tax rate is more useful than your tax bracket.
                        </p>
                    </uib-accordion-group>
                    <uib-accordion-group heading="How do tax credits and deductions affect my taxes?" is-open="accordions.credits" template-url="templates/group-template.html">
                        <p uib-popover="Refundable tax credits are very similar to the government writing you a cheque at the end of the year, regardless of what you earned or how much you owe on your taxes. If your owe $0 or $50,000 in taxes, you will receive the same benefit." popover-trigger="mouseenter">
                            Credits (Refundable)<sup><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span></sup>:
                        </p>
                        <slider ng-model="sliders.creditRefundable" formatter="sliderFormat(value)" min="min" max="max"></slider>
                        <p uib-popover="Non-refundable tax credits can only cancel out other taxes that you owe. You will only receive a benefit if you otherwise owe money for taxes." popover-trigger="mouseenter">
                            Credits (Non-refundable)<sup><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span></sup>:
                        </p>
                        <slider ng-model="sliders.creditNonRefundable" formatter="sliderFormat(value)" min="min" max="max"></slider>
                        <p uib-popover="Tax deductions effectively reduce the amount of your income for the year that gets taxed." popover-trigger="mouseenter">
                            Deductions<sup><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span></sup>:
                        </p>
                        <slider ng-model="sliders.deduction" formatter="sliderFormat(value)" min="min" max="max"></slider>
                        <button class="btn btn-default" ng-click="sliders.creditRefundable = 0; sliders.creditNonRefundable = 0; sliders.deduction = 0">
                            Reset
                        </button>
                    </uib-accordion-group>
                    <uib-accordion-group heading="What taxes do I pay?" is-open="accordions.breakdown" template-url="templates/group-template.html">
                        <p>
                        Lorem ipsum
                        </p>
                    </uib-accordion-group>
                </uib-accordion>
            </div>
        </div>
    </div>
</body>
</html>
